From 92b220b3a00105762e324bf4a02005c762b2b7ed Mon Sep 17 00:00:00 2001
From: Jon Turney <jon.turney@dronecode.org.uk>
Date: Tue, 12 Apr 2022 11:48:54 +0100
Subject: [PATCH 46/N] Cygwin: Fix typo KERB_S4U_LOGON_FLAG_IDENTITY ->
 IDENTIFY

---
 winsup/cygwin/sec_auth.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/winsup/cygwin/sec_auth.cc b/winsup/cygwin/sec_auth.cc
index 2fe890b..2b94d03 100644
--- a/winsup/cygwin/sec_auth.cc
+++ b/winsup/cygwin/sec_auth.cc
@@ -1490,7 +1490,7 @@ typedef struct _MSV1_0_S4U_LOGON
 } MSV1_0_S4U_LOGON, *PMSV1_0_S4U_LOGON;
 
 /* Missing in Mingw-w64 */
-#define KERB_S4U_LOGON_FLAG_IDENTITY 0x08
+#define KERB_S4U_LOGON_FLAG_IDENTIFY 0x08
 
 #endif
 
@@ -1611,7 +1611,7 @@ s4uauth (bool logon, PCWSTR domain, PCWSTR user, NTSTATUS &ret_status)
       RtlSecureZeroMemory (authinf, authinf_size);
       s4u_logon = (KERB_S4U_LOGON *) authinf;
       s4u_logon->MessageType = KerbS4ULogon;
-      s4u_logon->Flags = logon ? 0 : KERB_S4U_LOGON_FLAG_IDENTITY;
+      s4u_logon->Flags = logon ? 0 : KERB_S4U_LOGON_FLAG_IDENTIFY;
       /* Append user to login info */
       RtlInitEmptyUnicodeString (&s4u_logon->ClientUpn,
 				 (PWCHAR) (s4u_logon + 1),
-- 
2.35.3

