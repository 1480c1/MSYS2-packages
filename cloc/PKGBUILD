# Contributer: Baruch Burstein <bmburstein at gmail dot com>

pkgname=cloc
pkgver=1.86
pkgrel=1
pkgdesc="Count lines of code"
arch=('any')
url="https://github.com/AlDanial/cloc"
license=('GPL')
depends=('perl' 'perl-Algorithm-Diff' 'perl-Regexp-Common' 'perl-Parallel-ForkManager')
source=(${pkgname}-${pkgver}.tar.gz::https://github.com/AlDanial/cloc/archive/${pkgver}.tar.gz)
sha256sums=('55460851de0a59a770fa9fff45b9d0f40a87d5e7e64834a34a6b2ace4806d4cf')
noextract=(${pkgname}-${pkgver}.tar.gz)

prepare() {
  [[ -d ${pkgname}-${pkgver} ]] && rm -rf ${pkgname}-${pkgver}
  tar -xzvf ${pkgname}-${pkgver}.tar.gz -C ${srcdir} || true
}

package() {
  cd ${pkgname}-${pkgver}/Unix
  make DESTDIR="${pkgdir}" install
}
