# Maintainer: Alexey Pavlov <alexpux@gmail.com>

_realname=Test2-Suite
pkgname=perl-${_realname}
pkgver=0.000145
pkgrel=1
pkgdesc="Distribution with a rich set of tools built upon the Test2 framework"
arch=('any')
url="https://metacpan.org/dist/Test2-Suite"
groups=('perl-modules')
depends=('perl-Module-Pluggable' 'perl-Importer' 'perl-Scope-Guard' 'perl-Sub-Info'
         'perl-Term-Table' 'perl-Test-Simple>=1.302176')
license=('spdx:Artistic-1.0-Perl' 'spdx:GPL-1.0-or-later')
source=("https://cpan.metacpan.org/authors/id/E/EX/EXODIST/${_realname}-${pkgver}.tar.gz")
sha256sums=('ed44be739c8879fe178d3107b238f2db960d52797db0058de53be5b84600358b')

prepare() {
  cd "${srcdir}/${_realname}-${pkgver}"
}

build() {
  cd "${srcdir}/${_realname}-${pkgver}"
  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
  make
}

package() {
  cd "${srcdir}/${_realname}-${pkgver}"
  make install DESTDIR="${pkgdir}"
}
